- [OTIS 打鸟设计方案](https://xiaomi.f.mioffice.cn/docx/doxk4HrxPfTd98FqNqnwcR6vwtc)

## 步骤

1. 功能拆解
2. 可行性分析
3. 项目落地分析

![[otis 2024-03-22 18.13.29.excalidraw|otis flow - split with eis|600]]

## 需求拆解

1. 方案一: tracker算法与eis算法剥离开
	1. 算法: 飞鸟识别追踪算法
		1. roi 的实时性要高, 避免框的跟随性差
		2. roi 是否能够做到帧与帧之间的平滑 
	2. feature combine
		1. 与zoomeEis 结合, 为了保证eis的防抖效果, 需要将roi作为eis的input来指导做裁剪
	3. 重点需求及工作
	    1. 飞鸟识别追踪算法
	    2. Roi 平滑处理
	    3. Eis 算法需要支持roi这个输入来以roi为最高优先级进行防抖处理
2. 方案二: tracker算法由eis完成
	1. eis的 selfeis功能
	    1. 目前eis前置的自拍防抖功能, 就已经具备 跟踪人脸的功能
	    2. eis会参考人脸的roi, 来尽量保证防抖裁切完的图片中, 人脸保持在中心位置
	2. 该功能, 可以作为eis内部, 将其***人脸tracker***, 调整为***飞鸟tracker***就可以完成

## 新拆解

![[otis-20240320165511619.jpeg|1200]]


## 相关结论输出

1. 长焦打鸟
	1. 叠加智能构图:
		1. 复用智能构图目前的flow, 相关算法(IMT & EIS)可以满足需求
		2. 若将智能构图成片的效果做到预览场景, 存在画面抖动的风险, 该部分可以跟IMT算法同事沟通
	2. 不叠加智能构图
		1. 复用智能构图的逻辑也可以满足通路需求, 由万物追焦算法输出roi, eis算法基于roi做防抖
2. 人像抓拍
	1. 可以复用智能构图逻辑, 相关风险点与长焦打鸟叠加智能构图的方案一致

综上所述: 上述两个功能目前有算法储备和软件落地先例, 可以与智能构图软件交付团队和自研EIS算法同事做进一步沟通