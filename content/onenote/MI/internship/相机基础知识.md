# [镜头参数](https://blog.csdn.net/a1809032425/article/details/82318174)：

光圈与焦距

## 光圈：

控制通光量、控制景深  
光圈越大，通光量越大，景深越小

## 焦距：

控制成形影像的大小  
焦距越长，越能拍摄整体

## [传感器：](https://zhuanlan.zhihu.com/p/33636735)

CCD和CMOS（其中的CCM逼近CCD，==CIS==）两类  
CCD成像效果好，但是价格高

## 像素：

像素有传感器的像素点决定  
像素只能决定分辨率--照片尺寸  
像素无法决定照片质量

## 总结：

镜头：多多益善  
光圈：大一点好

# 安卓软件层架构

1. Camera APP --Client
2. [Application Framework](https://my.oschina.net/shaorongjie/blog/203451) (Camera.java)
3. Camera.JNI
4. MediaFramework (CameraService) --Server
5. Camera HAL (Hardware abstraction layer)
6. Kernel
 
## 相机运行主线（实体化视角）

1. Initial
2. Open
3. Preview/Video

镜头 -> CMOS(光信号->数字信号) ->ISP(数字信号后处理)

5. Capture

镜头 -> CMOS(光信号->数字信号) ->ISP(数字信号后处理) -> ==AP(====输出====JPG/HEIF/.MP4)==

7. Close

# ISP

输入：BAYER  
输出：RGB  
组成：

1. ISP逻辑
2. 其上的 Firmware
    
    1. ISP 控制单元和基础算法库
    2. AE/AWB/AF 算法库
    
    (自动曝光、自动白平衡、自动对焦)
    
    4. Sensor 算法库
 
## Bayer格式的图片

目的：三个全色传感器的高成本问题  
概述：Sensor 的成像基础  
组成：R：G：D=1：2：1
 
## YUV格式

将Y(亮度信息) 与 UV(色彩信息)分离  
Y为灰度图，呈现状态是黑白
 
## 对焦

相位对焦：速度快，对光照要求高  
反差对焦
 
## 数据流

Preview and video data flow  
Snapshot data flow
 
## 三个环节是：

1. IFE
2. BPS
3. IPE
4. Demosaic

输入：Bayer Raw  
输出：YUV  
输入：Bayer Raw  
输出： #question  
组成：NPS & PPS  
将图片从拜尔域转换至RGB域（插值）
 
# 对应的承载物

1. APP
2. ISP(衔接层+照片预处理)
3. 马达-相机-闪光灯  
APP在CPU（GPU/HVX/NPU）上运行

# 白平衡

单反：通过检测环境光，进行色温比对  
手机：通过比对表，进行相机色温的估计